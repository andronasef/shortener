(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function E(){}function z(t,e){for(const n in e)t[n]=e[n];return t}function Pe(t){return t()}function je(){return Object.create(null)}function J(t){t.forEach(Pe)}function we(t){return typeof t=="function"}function B(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ke(t){return Object.keys(t).length===0}function Ae(t,...e){if(t==null)return E;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function De(t,e,n){t.$$.on_destroy.push(Ae(e,n))}function ce(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function h(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function We(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function Re(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t){return document.createTextNode(t)}function j(){return I(" ")}function de(){return I("")}function Q(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function Xe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fe(t,e){for(const n in e)p(t,n,e[n])}function Ye(t){return Array.from(t.childNodes)}function Y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=e==null?"":e}function Ge(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,s,e),r}function ae(t,e){return new t(e)}let ne;function te(t){ne=t}function pe(){if(!ne)throw new Error("Function called outside component initialization");return ne}function ve(t){pe().$$.on_mount.push(t)}function et(t){pe().$$.after_update.push(t)}function tt(t){pe().$$.on_destroy.push(t)}function nt(){const t=pe();return(e,n,{cancelable:s=!1}={})=>{const r=t.$$.callbacks[e];if(r){const l=Ge(e,n,{cancelable:s});return r.slice().forEach(u=>{u.call(t,l)}),!l.defaultPrevented}return!0}}function xe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const ee=[],he=[],ie=[],be=[],Be=Promise.resolve();let ye=!1;function Ie(){ye||(ye=!0,Be.then(Ue))}function st(){return Ie(),Be}function ke(t){ie.push(t)}function Te(t){be.push(t)}const me=new Set;let oe=0;function Ue(){const t=ne;do{for(;oe<ee.length;){const e=ee[oe];oe++,te(e),rt(e.$$)}for(te(null),ee.length=0,oe=0;he.length;)he.pop()();for(let e=0;e<ie.length;e+=1){const n=ie[e];me.has(n)||(me.add(n),n())}ie.length=0}while(ee.length);for(;be.length;)be.pop()();ye=!1,me.clear(),te(t)}function rt(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ke)}}const ue=new Set;let K;function se(){K={r:0,c:[],p:K}}function re(){K.r||J(K.c),K=K.p}function q(t,e){t&&t.i&&(ue.delete(t),t.i(e))}function M(t,e,n,s){if(t&&t.o){if(ue.has(t))return;ue.add(t),K.c.push(()=>{ue.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function _e(t,e){const n={},s={},r={$$scope:1};let l=t.length;for(;l--;){const u=t[l],i=e[l];if(i){for(const o in u)o in i||(s[o]=1);for(const o in i)r[o]||(n[o]=i[o],r[o]=1);t[l]=i}else for(const o in u)r[o]=1}for(const u in s)u in n||(n[u]=void 0);return n}function Ze(t){return typeof t=="object"&&t!==null?t:{}}function Oe(t,e,n){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function U(t){t&&t.c()}function D(t,e,n,s){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),s||ke(()=>{const u=t.$$.on_mount.map(Pe).filter(we);t.$$.on_destroy?t.$$.on_destroy.push(...u):J(u),t.$$.on_mount=[]}),l.forEach(ke)}function R(t,e){const n=t.$$;n.fragment!==null&&(J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){t.$$.dirty[0]===-1&&(ee.push(t),Ie(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Z(t,e,n,s,r,l,u,i=[-1]){const o=ne;te(t);const c=t.$$={fragment:null,ctx:[],props:l,update:E,not_equal:r,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:je(),dirty:i,skip_bound:!1,root:e.target||o.$$.root};u&&u(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(a,d,..._)=>{const $=_.length?_[0]:d;return c.ctx&&r(c.ctx[a],c.ctx[a]=$)&&(!c.skip_bound&&c.bound[a]&&c.bound[a]($),f&&lt(t,a)),d}):[],c.update(),f=!0,J(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const a=Ye(e.target);c.fragment&&c.fragment.l(a),a.forEach(x)}else c.fragment&&c.fragment.c();e.intro&&q(t.$$.fragment),D(t,e.target,e.anchor,e.customElement),Ue()}te(o)}class V{$destroy(){R(this,1),this.$destroy=E}$on(e,n){if(!we(n))return E;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Ke(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const X=[];function Ve(t,e){return{subscribe:Fe(t,e).subscribe}}function Fe(t,e=E){let n;const s=new Set;function r(i){if(B(t,i)&&(t=i,n)){const o=!X.length;for(const c of s)c[1](),X.push(c,t);if(o){for(let c=0;c<X.length;c+=2)X[c][0](X[c+1]);X.length=0}}}function l(i){r(i(t))}function u(i,o=E){const c=[i,o];return s.add(c),s.size===1&&(n=e(r)||E),i(t),()=>{s.delete(c),s.size===0&&(n(),n=null)}}return{set:r,update:l,subscribe:u}}function Qe(t,e,n){const s=!Array.isArray(t),r=s?[t]:t,l=e.length<2;return Ve(n,u=>{let i=!1;const o=[];let c=0,f=E;const a=()=>{if(c)return;f();const _=e(s?o[0]:o,u);l?u(_):f=we(_)?_:E},d=r.map((_,$)=>Ae(_,S=>{o[$]=S,c&=~(1<<$),i&&a()},()=>{c|=1<<$}));return i=!0,a(),function(){J(d),f()}})}function ot(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,r,l,u=[],i="",o=t.split("/");for(o[0]||o.shift();r=o.shift();)n=r[0],n==="*"?(u.push("wild"),i+="/(.*)"):n===":"?(s=r.indexOf("?",1),l=r.indexOf(".",1),u.push(r.substring(1,~s?s:~l?l:r.length)),i+=!!~s&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(i+=(~s?"?":"")+"\\"+r.substring(l))):i+="/"+r;return{keys:u,pattern:new RegExp("^"+i+(e?"(?=$|/)":"/?$"),"i")}}function it(t){let e,n,s;const r=[t[2]];var l=t[0];function u(i){let o={};for(let c=0;c<r.length;c+=1)o=z(o,r[c]);return{props:o}}return l&&(e=ae(l,u()),e.$on("routeEvent",t[7])),{c(){e&&U(e.$$.fragment),n=de()},m(i,o){e&&D(e,i,o),O(i,n,o),s=!0},p(i,o){const c=o&4?_e(r,[Ze(i[2])]):{};if(l!==(l=i[0])){if(e){se();const f=e;M(f.$$.fragment,1,0,()=>{R(f,1)}),re()}l?(e=ae(l,u()),e.$on("routeEvent",i[7]),U(e.$$.fragment),q(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}else l&&e.$set(c)},i(i){s||(e&&q(e.$$.fragment,i),s=!0)},o(i){e&&M(e.$$.fragment,i),s=!1},d(i){i&&x(n),e&&R(e,i)}}}function ut(t){let e,n,s;const r=[{params:t[1]},t[2]];var l=t[0];function u(i){let o={};for(let c=0;c<r.length;c+=1)o=z(o,r[c]);return{props:o}}return l&&(e=ae(l,u()),e.$on("routeEvent",t[6])),{c(){e&&U(e.$$.fragment),n=de()},m(i,o){e&&D(e,i,o),O(i,n,o),s=!0},p(i,o){const c=o&6?_e(r,[o&2&&{params:i[1]},o&4&&Ze(i[2])]):{};if(l!==(l=i[0])){if(e){se();const f=e;M(f.$$.fragment,1,0,()=>{R(f,1)}),re()}l?(e=ae(l,u()),e.$on("routeEvent",i[6]),U(e.$$.fragment),q(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}else l&&e.$set(c)},i(i){s||(e&&q(e.$$.fragment,i),s=!0)},o(i){e&&M(e.$$.fragment,i),s=!1},d(i){i&&x(n),e&&R(e,i)}}}function ct(t){let e,n,s,r;const l=[ut,it],u=[];function i(o,c){return o[1]?0:1}return e=i(t),n=u[e]=l[e](t),{c(){n.c(),s=de()},m(o,c){u[e].m(o,c),O(o,s,c),r=!0},p(o,[c]){let f=e;e=i(o),e===f?u[e].p(o,c):(se(),M(u[f],1,1,()=>{u[f]=null}),re(),n=u[e],n?n.p(o,c):(n=u[e]=l[e](o),n.c()),q(n,1),n.m(s.parentNode,s))},i(o){r||(q(n),r=!0)},o(o){M(n),r=!1},d(o){u[e].d(o),o&&x(s)}}}function qe(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let s="";return n>-1&&(s=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:s}}const $e=Ve(null,function(e){e(qe());const n=()=>{e(qe())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),ze=Qe($e,t=>t.location);Qe($e,t=>t.querystring);const Ce=Fe(void 0);function ft(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function at(t,e,n){let{routes:s={}}=e,{prefix:r=""}=e,{restoreScrollState:l=!1}=e;class u{constructor(g,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:v,keys:w}=ot(g);this.path=g,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=v,this._keys=w}match(g){if(r){if(typeof r=="string")if(g.startsWith(r))g=g.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const N=g.match(r);if(N&&N[0])g=g.substr(N[0].length)||"/";else return null}}const b=this._pattern.exec(g);if(b===null)return null;if(this._keys===!1)return b;const v={};let w=0;for(;w<this._keys.length;){try{v[this._keys[w]]=decodeURIComponent(b[w+1]||"")||null}catch{v[this._keys[w]]=null}w++}return v}async checkConditions(g){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](g))return!1;return!0}}const i=[];s instanceof Map?s.forEach((y,g)=>{i.push(new u(g,y))}):Object.keys(s).forEach(y=>{i.push(new u(y,s[y]))});let o=null,c=null,f={};const a=nt();async function d(y,g){await st(),a(y,g)}let _=null,$=null;l&&($=y=>{y.state&&(y.state.__svelte_spa_router_scrollY||y.state.__svelte_spa_router_scrollX)?_=y.state:_=null},window.addEventListener("popstate",$),et(()=>{ft(_)}));let S=null,C=null;const L=$e.subscribe(async y=>{S=y;let g=0;for(;g<i.length;){const b=i[g].match(y.location);if(!b){g++;continue}const v={route:i[g].path,location:y.location,querystring:y.querystring,userData:i[g].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await i[g].checkConditions(v)){n(0,o=null),C=null,d("conditionsFailed",v);return}d("routeLoading",Object.assign({},v));const w=i[g].component;if(C!=w){w.loading?(n(0,o=w.loading),C=w,n(1,c=w.loadingParams),n(2,f={}),d("routeLoaded",Object.assign({},v,{component:o,name:o.name,params:c}))):(n(0,o=null),C=null);const N=await w();if(y!=S)return;n(0,o=N&&N.default||N),C=w}b&&typeof b=="object"&&Object.keys(b).length?n(1,c=b):n(1,c=null),n(2,f=i[g].props),d("routeLoaded",Object.assign({},v,{component:o,name:o.name,params:c})).then(()=>{Ce.set(c)});return}n(0,o=null),C=null,Ce.set(void 0)});tt(()=>{L(),$&&window.removeEventListener("popstate",$)});function k(y){xe.call(this,t,y)}function T(y){xe.call(this,t,y)}return t.$$set=y=>{"routes"in y&&n(3,s=y.routes),"prefix"in y&&n(4,r=y.prefix),"restoreScrollState"in y&&n(5,l=y.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[o,c,f,s,r,l,k,T]}class ht extends V{constructor(e){super(),Z(this,e,at,ct,B,{routes:3,prefix:4,restoreScrollState:5})}}function dt(t){let e,n,s,r,l,u,i,o,c,f,a,d,_,$,S,C,L,k,T,y,g,b;return{c(){e=m("div"),n=m("div"),s=I(t[3]),r=j(),l=m("label"),l.innerHTML='<span class="label-text">Key</span>',u=j(),i=m("input"),o=j(),c=m("label"),c.innerHTML='<span class="label-text">Long Link</span>',f=j(),a=m("input"),d=j(),_=m("label"),_.innerHTML='<span class="label-text">Short Link</span>',$=j(),S=m("input"),C=j(),L=m("div"),k=m("button"),k.textContent="Update",T=j(),y=m("a"),y.innerHTML='<button class="btn">Cancel</button>',p(l,"class","label svelte-9vglym"),p(i,"type","text"),i.disabled=!0,p(i,"class","svelte-9vglym"),p(c,"class","label svelte-9vglym"),p(a,"type","text"),p(a,"class","svelte-9vglym"),p(_,"class","label svelte-9vglym"),p(S,"type","text"),p(S,"class","svelte-9vglym"),p(k,"class","btn"),p(y,"href","/shortener/#"),p(L,"class","flex flex-row gap-3"),p(e,"class","flex flex-col p-10 justify-center items-center gap-5 ")},m(v,w){O(v,e,w),h(e,n),h(n,s),h(e,r),h(e,l),h(e,u),h(e,i),A(i,t[2]),h(e,o),h(e,c),h(e,f),h(e,a),A(a,t[0]),h(e,d),h(e,_),h(e,$),h(e,S),A(S,t[1]),h(e,C),h(e,L),h(L,k),h(L,T),h(L,y),g||(b=[Q(i,"input",t[5]),Q(a,"input",t[6]),Q(S,"input",t[7]),Q(k,"click",t[4])],g=!0)},p(v,[w]){w&8&&Y(s,v[3]),w&4&&i.value!==v[2]&&A(i,v[2]),w&1&&a.value!==v[0]&&A(a,v[0]),w&2&&S.value!==v[1]&&A(S,v[1])},i:E,o:E,d(v){v&&x(e),g=!1,J(b)}}}function pt(t,e,n){let s;De(t,ze,d=>n(8,s=d));let r,l,u,i="";ve(async function(){const d=s.split("/").pop();await fetch(`https://shortlinks.deta.dev/key/${d}`).then(_=>_.json()).then(_=>{n(2,u=_.key),n(0,r=_.long),n(1,l=_.short)})});async function o(){n(3,i="Updating...");let d={};r&&(d.long=r),l&&(d.short=l),await fetch(`https://shortlinks.deta.dev/${u}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(_=>_.json()).then(_=>{n(3,i=_.msg)})}function c(){u=this.value,n(2,u)}function f(){r=this.value,n(0,r)}function a(){l=this.value,n(1,l)}return[r,l,u,i,o,c,f,a]}class _t extends V{constructor(e){super(),Z(this,e,pt,dt,B,{})}}function gt(t){let e,n;return{c(){e=m("div"),n=I(t[0]),p(e,"class","flex flex-col justify-center items-center flex-grow text-3xl")},m(s,r){O(s,e,r),h(e,n)},p(s,[r]){r&1&&Y(n,s[0])},i:E,o:E,d(s){s&&x(e)}}}function mt(t,e,n){let s;De(t,ze,l=>n(1,s=l));let r="";return ve(async function(){const l=s.split("/").pop();await fetch(`https://shortlinks.deta.dev/${l}`).then(u=>u.json()).then(u=>{u.url?(n(0,r=`Redirecting to the ${u.url}`),window.location.href=u.url):(n(0,r="Link Not Found"),setTimeout(()=>window.location.href="/",3e3))})}),[r]}class bt extends V{constructor(e){super(),Z(this,e,mt,gt,B,{})}}function Me(t){let e,n;return{c(){e=m("p"),n=I(t[2])},m(s,r){O(s,e,r),h(e,n)},p(s,r){r&4&&Y(n,s[2])},d(s){s&&x(e)}}}function yt(t){let e,n,s,r,l,u,i,o,c,f,a,d,_,$,S,C,L=t[2]&&Me(t);return{c(){e=m("form"),n=m("div"),s=m("label"),s.innerHTML='<span class="label-text">Short Url</span>',r=j(),l=m("input"),u=j(),i=m("div"),o=m("label"),o.innerHTML='<span class="label-text">Long Url</span>',c=j(),f=m("input"),a=j(),d=m("button"),d.textContent="Submit",_=j(),L&&L.c(),$=de(),p(s,"class","label"),p(s,"for",""),l.required=!0,p(l,"type","text"),p(l,"placeholder","Type here"),p(l,"min","5"),p(l,"max","15"),p(l,"class","input input-bordered w-full"),p(n,"class","w-full md:w-96"),p(o,"class","label"),p(o,"for",""),p(f,"min","5"),f.required=!0,p(f,"type","text"),p(f,"placeholder","Type here"),p(f,"class","input input-bordered w-full"),p(i,"class","w-full "),p(d,"class","md:self-end btn"),p(e,"class","form-control flex flex-col gap-5 w-full justify-center md:flex-row items-center p-5 md:px-20")},m(k,T){O(k,e,T),h(e,n),h(n,s),h(n,r),h(n,l),A(l,t[0]),h(e,u),h(e,i),h(i,o),h(i,c),h(i,f),A(f,t[1]),h(e,a),h(e,d),O(k,_,T),L&&L.m(k,T),O(k,$,T),S||(C=[Q(l,"input",t[5]),Q(f,"input",t[6]),Q(d,"click",Xe(t[3]))],S=!0)},p(k,[T]){T&1&&l.value!==k[0]&&A(l,k[0]),T&2&&f.value!==k[1]&&A(f,k[1]),k[2]?L?L.p(k,T):(L=Me(k),L.c(),L.m($.parentNode,$)):L&&(L.d(1),L=null)},i:E,o:E,d(k){k&&x(e),k&&x(_),L&&L.d(k),k&&x($),S=!1,J(C)}}}function kt(t,e,n){let{short:s,long:r,getShortLinks:l}=e,u;function i(){if(!s||!r){n(2,u="Please enter a short and long link");return}if(!r.startsWith("http")){n(2,u="Please enter a valid long link");return}if(s.length>15||s.length<5){n(2,u="Short link should be less than 15 characters and more than 5 characters");return}fetch("https://shortlinks.deta.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({short:s,long:r})}).then(async f=>{if(f.ok==!0)l(),n(2,u=(await f.json()).msg);else{const a=(await f.json()).errors;n(2,u=a[0].msg)}})}function o(){s=this.value,n(0,s)}function c(){r=this.value,n(1,r)}return t.$$set=f=>{"short"in f&&n(0,s=f.short),"long"in f&&n(1,r=f.long),"getShortLinks"in f&&n(4,l=f.getShortLinks)},[s,r,u,i,l,o,c]}class wt extends V{constructor(e){super(),Z(this,e,kt,yt,B,{short:0,long:1,getShortLinks:4})}}function vt(t){let e,n='<path fill="currentColor" d="m9.4 16.5l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L16 9.9l-1.4-1.4l-2.6 2.6l-2.6-2.6L8 9.9l2.6 2.6L8 15.1ZM7 21q-.825 0-1.412-.587Q5 19.825 5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413Q17.825 21 17 21Z"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},t[0]],r={};for(let l=0;l<s.length;l+=1)r=z(r,s[l]);return{c(){e=Re("svg"),fe(e,r)},m(l,u){O(l,e,u),e.innerHTML=n},p(l,[u]){fe(e,r=_e(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},u&1&&l[0]]))},i:E,o:E,d(l){l&&x(e)}}}function $t(t,e,n){return t.$$set=s=>{n(0,e=z(z({},e),ce(s)))},e=ce(e),[e]}class Lt extends V{constructor(e){super(),Z(this,e,$t,vt,B,{})}}function Et(t){let e,n='<path fill="currentColor" d="M6 22q-.825 0-1.412-.587Q4 20.825 4 20V4q0-.825.588-1.413Q5.175 2 6 2h8l6 6v3.1l-8 7.975V22Zm8 0v-2.125l5.15-5.175l2.15 2.1l-5.175 5.2Zm8.025-5.9L19.9 13.975l.7-.7q.3-.3.725-.3t.7.3l.7.725q.275.3.275.712q0 .413-.275.688ZM13 9h5l-5-5Z"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},t[0]],r={};for(let l=0;l<s.length;l+=1)r=z(r,s[l]);return{c(){e=Re("svg"),fe(e,r)},m(l,u){O(l,e,u),e.innerHTML=n},p(l,[u]){fe(e,r=_e(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},u&1&&l[0]]))},i:E,o:E,d(l){l&&x(e)}}}function St(t,e,n){return t.$$set=s=>{n(0,e=z(z({},e),ce(s)))},e=ce(e),[e]}class jt extends V{constructor(e){super(),Z(this,e,St,Et,B,{})}}function Ne(t,e,n){const s=t.slice();return s[3]=e[n],s[5]=n,s}function xt(t){let e;return{c(){e=m("div"),e.textContent="There's No Short Links",p(e,"class","underline text-xl text-center")},m(n,s){O(n,e,s)},p:E,i:E,o:E,d(n){n&&x(e)}}}function Tt(t){let e,n,s,r,l,u,i=t[0],o=[];for(let f=0;f<i.length;f+=1)o[f]=He(Ne(t,i,f));const c=f=>M(o[f],1,1,()=>{o[f]=null});return{c(){e=m("div"),n=m("table"),s=m("thead"),s.innerHTML=`<tr><th>#</th> 
            <th>Short</th> 
            <th>Long</th> 
            <th>Clicks</th> 
            <th>Actions</th></tr>`,r=j(),l=m("tbody");for(let f=0;f<o.length;f+=1)o[f].c();p(n,"class","table w-full"),p(e,"class","md:p-5 overflow-x-auto")},m(f,a){O(f,e,a),h(e,n),h(n,s),h(n,r),h(n,l);for(let d=0;d<o.length;d+=1)o[d].m(l,null);u=!0},p(f,a){if(a&3){i=f[0];let d;for(d=0;d<i.length;d+=1){const _=Ne(f,i,d);o[d]?(o[d].p(_,a),q(o[d],1)):(o[d]=He(_),o[d].c(),q(o[d],1),o[d].m(l,null))}for(se(),d=i.length;d<o.length;d+=1)c(d);re()}},i(f){if(!u){for(let a=0;a<i.length;a+=1)q(o[a]);u=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)M(o[a]);u=!1},d(f){f&&x(e),We(o,f)}}}function He(t){let e,n,s,r,l,u,i=t[3].short+"",o,c,f,a,d,_=t[3].long+"",$,S,C,L,k=t[3].clicks+"",T,y,g,b,v,w,N,Le,le,G,W,Ee,P,ge,Se;w=new jt({}),W=new Lt({});function Je(){return t[2](t[3])}return{c(){e=m("tr"),n=m("th"),s=I(t[5]),r=j(),l=m("td"),u=m("a"),o=I(i),f=j(),a=m("td"),d=m("a"),$=I(_),C=j(),L=m("td"),T=I(k),y=j(),g=m("td"),b=m("a"),v=m("button"),U(w.$$.fragment),Le=j(),le=m("a"),G=m("button"),U(W.$$.fragment),Ee=j(),p(u,"href",c=`#/go/${t[3].short}`),p(d,"href",S=t[3].long),p(v,"class","icon svelte-1ef6qv4"),p(b,"href",N=`#/edit/${t[3].key}`),p(G,"class","icon svelte-1ef6qv4"),p(le,"href","#"),p(g,"class","flex gap-3"),p(e,"class","hover:active")},m(H,F){O(H,e,F),h(e,n),h(n,s),h(e,r),h(e,l),h(l,u),h(u,o),h(e,f),h(e,a),h(a,d),h(d,$),h(e,C),h(e,L),h(L,T),h(e,y),h(e,g),h(g,b),h(b,v),D(w,v,null),h(g,Le),h(g,le),h(le,G),D(W,G,null),h(e,Ee),P=!0,ge||(Se=Q(G,"click",Je),ge=!0)},p(H,F){t=H,(!P||F&1)&&i!==(i=t[3].short+"")&&Y(o,i),(!P||F&1&&c!==(c=`#/go/${t[3].short}`))&&p(u,"href",c),(!P||F&1)&&_!==(_=t[3].long+"")&&Y($,_),(!P||F&1&&S!==(S=t[3].long))&&p(d,"href",S),(!P||F&1)&&k!==(k=t[3].clicks+"")&&Y(T,k),(!P||F&1&&N!==(N=`#/edit/${t[3].key}`))&&p(b,"href",N)},i(H){P||(q(w.$$.fragment,H),q(W.$$.fragment,H),P=!0)},o(H){M(w.$$.fragment,H),M(W.$$.fragment,H),P=!1},d(H){H&&x(e),R(w),R(W),ge=!1,Se()}}}function Ot(t){let e,n,s,r;const l=[Tt,xt],u=[];function i(o,c){return o[0].length>0?0:1}return n=i(t),s=u[n]=l[n](t),{c(){e=m("div"),s.c(),p(e,"class","w-full px-10")},m(o,c){O(o,e,c),u[n].m(e,null),r=!0},p(o,[c]){let f=n;n=i(o),n===f?u[n].p(o,c):(se(),M(u[f],1,1,()=>{u[f]=null}),re(),s=u[n],s?s.p(o,c):(s=u[n]=l[n](o),s.c()),q(s,1),s.m(e,null))},i(o){r||(q(s),r=!0)},o(o){M(s),r=!1},d(o){o&&x(e),u[n].d()}}}function qt(t,e,n){let{shortlinks:s}=e;function r(u){console.log("deleting",u),fetch(`https://shortlinks.deta.dev/${u}`,{method:"DELETE"}).then(()=>{n(0,s=s.filter(i=>i.key!==u))})}const l=u=>r(u.key);return t.$$set=u=>{"shortlinks"in u&&n(0,s=u.shortlinks)},[s,r,l]}class Ct extends V{constructor(e){super(),Z(this,e,qt,Ot,B,{shortlinks:0})}}function Mt(t){let e,n,s,r,l,u,i;function o(a){t[4](a)}function c(a){t[5](a)}let f={getShortLinks:t[3]};return t[1]!==void 0&&(f.short=t[1]),t[2]!==void 0&&(f.long=t[2]),n=new wt({props:f}),he.push(()=>Oe(n,"short",o)),he.push(()=>Oe(n,"long",c)),u=new Ct({props:{shortlinks:t[0]}}),{c(){e=m("div"),U(n.$$.fragment),l=j(),U(u.$$.fragment),p(e,"class","flex flex-col justify-center items-center gap-10")},m(a,d){O(a,e,d),D(n,e,null),h(e,l),D(u,e,null),i=!0},p(a,[d]){const _={};!s&&d&2&&(s=!0,_.short=a[1],Te(()=>s=!1)),!r&&d&4&&(r=!0,_.long=a[2],Te(()=>r=!1)),n.$set(_);const $={};d&1&&($.shortlinks=a[0]),u.$set($)},i(a){i||(q(n.$$.fragment,a),q(u.$$.fragment,a),i=!0)},o(a){M(n.$$.fragment,a),M(u.$$.fragment,a),i=!1},d(a){a&&x(e),R(n),R(u)}}}function Nt(t,e,n){let s=[],r="",l="";ve(async function(){u()});async function u(){const c=await fetch("https://shortlinks.deta.dev/");n(0,s=(await c.json()).items)}function i(c){r=c,n(1,r)}function o(c){l=c,n(2,l)}return[s,r,l,u,i,o]}class Ht extends V{constructor(e){super(),Z(this,e,Nt,Mt,B,{})}}function Pt(t){let e,n,s,r,l,u;return l=new ht({props:{routes:t[0]}}),{c(){e=m("body"),n=m("a"),n.innerHTML='<h1 class="text-3xl font-bold text-center py-10">Simple Link Shortener</h1>',s=j(),r=m("div"),U(l.$$.fragment),p(n,"href","/shortener/#")},m(i,o){O(i,e,o),h(e,n),h(e,s),h(e,r),D(l,r,null),u=!0},p:E,i(i){u||(q(l.$$.fragment,i),u=!0)},o(i){M(l.$$.fragment,i),u=!1},d(i){i&&x(e),R(l)}}}function At(t){return[{"/":Ht,"/go/:slug":bt,"/edit/:key":_t}]}class Dt extends V{constructor(e){super(),Z(this,e,At,Pt,B,{})}}new Dt({target:document.getElementById("app")});
