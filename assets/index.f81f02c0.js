(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function $(){}function z(t,e){for(const n in e)t[n]=e[n];return t}function Pe(t){return t()}function Se(){return Object.create(null)}function J(t){t.forEach(Pe)}function ke(t){return typeof t=="function"}function B(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Je(t){return Object.keys(t).length===0}function Ae(t,...e){if(t==null)return $;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function He(t,e,n){t.$$.on_destroy.push(Ae(e,n))}function ue(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function d(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function Ke(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function De(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t){return document.createTextNode(t)}function E(){return I(" ")}function he(){return I("")}function Q(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function We(t){return function(e){return e.preventDefault(),t.call(this,e)}}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ce(t,e){for(const n in e)_(t,n,e[n])}function Xe(t){return Array.from(t.childNodes)}function Y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function H(t,e){t.value=e==null?"":e}function Ye(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,s,e),r}function fe(t,e){return new t(e)}let ne;function te(t){ne=t}function de(){if(!ne)throw new Error("Function called outside component initialization");return ne}function we(t){de().$$.on_mount.push(t)}function Ge(t){de().$$.after_update.push(t)}function et(t){de().$$.on_destroy.push(t)}function tt(){const t=de();return(e,n,{cancelable:s=!1}={})=>{const r=t.$$.callbacks[e];if(r){const l=Ye(e,n,{cancelable:s});return r.slice().forEach(i=>{i.call(t,l)}),!l.defaultPrevented}return!0}}function je(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const ee=[],ae=[],oe=[],me=[],Re=Promise.resolve();let be=!1;function Be(){be||(be=!0,Re.then(Ie))}function nt(){return Be(),Re}function ye(t){oe.push(t)}function xe(t){me.push(t)}const ge=new Set;let le=0;function Ie(){const t=ne;do{for(;le<ee.length;){const e=ee[le];le++,te(e),st(e.$$)}for(te(null),ee.length=0,le=0;ae.length;)ae.pop()();for(let e=0;e<oe.length;e+=1){const n=oe[e];ge.has(n)||(ge.add(n),n())}oe.length=0}while(ee.length);for(;me.length;)me.pop()();be=!1,ge.clear(),te(t)}function st(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ye)}}const ie=new Set;let K;function se(){K={r:0,c:[],p:K}}function re(){K.r||J(K.c),K=K.p}function T(t,e){t&&t.i&&(ie.delete(t),t.i(e))}function N(t,e,n,s){if(t&&t.o){if(ie.has(t))return;ie.add(t),K.c.push(()=>{ie.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function pe(t,e){const n={},s={},r={$$scope:1};let l=t.length;for(;l--;){const i=t[l],u=e[l];if(u){for(const o in i)o in u||(s[o]=1);for(const o in u)r[o]||(n[o]=u[o],r[o]=1);t[l]=u}else for(const o in i)r[o]=1}for(const i in s)i in n||(n[i]=void 0);return n}function Ue(t){return typeof t=="object"&&t!==null?t:{}}function Te(t,e,n){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function U(t){t&&t.c()}function D(t,e,n,s){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),s||ye(()=>{const i=t.$$.on_mount.map(Pe).filter(ke);t.$$.on_destroy?t.$$.on_destroy.push(...i):J(i),t.$$.on_mount=[]}),l.forEach(ye)}function R(t,e){const n=t.$$;n.fragment!==null&&(J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(t,e){t.$$.dirty[0]===-1&&(ee.push(t),Be(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Z(t,e,n,s,r,l,i,u=[-1]){const o=ne;te(t);const c=t.$$={fragment:null,ctx:[],props:l,update:$,not_equal:r,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Se(),dirty:u,skip_bound:!1,root:e.target||o.$$.root};i&&i(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(h,a,...m)=>{const k=m.length?m[0]:a;return c.ctx&&r(c.ctx[h],c.ctx[h]=k)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](k),f&&rt(t,h)),a}):[],c.update(),f=!0,J(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const h=Xe(e.target);c.fragment&&c.fragment.l(h),h.forEach(S)}else c.fragment&&c.fragment.c();e.intro&&T(t.$$.fragment),D(t,e.target,e.anchor,e.customElement),Ie()}te(o)}class V{$destroy(){R(this,1),this.$destroy=$}$on(e,n){if(!ke(n))return $;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const X=[];function Ze(t,e){return{subscribe:Ve(t,e).subscribe}}function Ve(t,e=$){let n;const s=new Set;function r(u){if(B(t,u)&&(t=u,n)){const o=!X.length;for(const c of s)c[1](),X.push(c,t);if(o){for(let c=0;c<X.length;c+=2)X[c][0](X[c+1]);X.length=0}}}function l(u){r(u(t))}function i(u,o=$){const c=[u,o];return s.add(c),s.size===1&&(n=e(r)||$),u(t),()=>{s.delete(c),s.size===0&&(n(),n=null)}}return{set:r,update:l,subscribe:i}}function Fe(t,e,n){const s=!Array.isArray(t),r=s?[t]:t,l=e.length<2;return Ze(n,i=>{let u=!1;const o=[];let c=0,f=$;const h=()=>{if(c)return;f();const m=e(s?o[0]:o,i);l?i(m):f=ke(m)?m:$},a=r.map((m,k)=>Ae(m,O=>{o[k]=O,c&=~(1<<k),u&&h()},()=>{c|=1<<k}));return u=!0,h(),function(){J(a),f()}})}function lt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,r,l,i=[],u="",o=t.split("/");for(o[0]||o.shift();r=o.shift();)n=r[0],n==="*"?(i.push("wild"),u+="/(.*)"):n===":"?(s=r.indexOf("?",1),l=r.indexOf(".",1),i.push(r.substring(1,~s?s:~l?l:r.length)),u+=!!~s&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(u+=(~s?"?":"")+"\\"+r.substring(l))):u+="/"+r;return{keys:i,pattern:new RegExp("^"+u+(e?"(?=$|/)":"/?$"),"i")}}function ot(t){let e,n,s;const r=[t[2]];var l=t[0];function i(u){let o={};for(let c=0;c<r.length;c+=1)o=z(o,r[c]);return{props:o}}return l&&(e=fe(l,i()),e.$on("routeEvent",t[7])),{c(){e&&U(e.$$.fragment),n=he()},m(u,o){e&&D(e,u,o),x(u,n,o),s=!0},p(u,o){const c=o&4?pe(r,[Ue(u[2])]):{};if(l!==(l=u[0])){if(e){se();const f=e;N(f.$$.fragment,1,0,()=>{R(f,1)}),re()}l?(e=fe(l,i()),e.$on("routeEvent",u[7]),U(e.$$.fragment),T(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}else l&&e.$set(c)},i(u){s||(e&&T(e.$$.fragment,u),s=!0)},o(u){e&&N(e.$$.fragment,u),s=!1},d(u){u&&S(n),e&&R(e,u)}}}function it(t){let e,n,s;const r=[{params:t[1]},t[2]];var l=t[0];function i(u){let o={};for(let c=0;c<r.length;c+=1)o=z(o,r[c]);return{props:o}}return l&&(e=fe(l,i()),e.$on("routeEvent",t[6])),{c(){e&&U(e.$$.fragment),n=he()},m(u,o){e&&D(e,u,o),x(u,n,o),s=!0},p(u,o){const c=o&6?pe(r,[o&2&&{params:u[1]},o&4&&Ue(u[2])]):{};if(l!==(l=u[0])){if(e){se();const f=e;N(f.$$.fragment,1,0,()=>{R(f,1)}),re()}l?(e=fe(l,i()),e.$on("routeEvent",u[6]),U(e.$$.fragment),T(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}else l&&e.$set(c)},i(u){s||(e&&T(e.$$.fragment,u),s=!0)},o(u){e&&N(e.$$.fragment,u),s=!1},d(u){u&&S(n),e&&R(e,u)}}}function ut(t){let e,n,s,r;const l=[it,ot],i=[];function u(o,c){return o[1]?0:1}return e=u(t),n=i[e]=l[e](t),{c(){n.c(),s=he()},m(o,c){i[e].m(o,c),x(o,s,c),r=!0},p(o,[c]){let f=e;e=u(o),e===f?i[e].p(o,c):(se(),N(i[f],1,1,()=>{i[f]=null}),re(),n=i[e],n?n.p(o,c):(n=i[e]=l[e](o),n.c()),T(n,1),n.m(s.parentNode,s))},i(o){r||(T(n),r=!0)},o(o){N(n),r=!1},d(o){i[e].d(o),o&&S(s)}}}function Oe(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let s="";return n>-1&&(s=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:s}}const ve=Ze(null,function(e){e(Oe());const n=()=>{e(Oe())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),Qe=Fe(ve,t=>t.location);Fe(ve,t=>t.querystring);const qe=Ve(void 0);function ct(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ft(t,e,n){let{routes:s={}}=e,{prefix:r=""}=e,{restoreScrollState:l=!1}=e;class i{constructor(p,y){if(!y||typeof y!="function"&&(typeof y!="object"||y._sveltesparouter!==!0))throw Error("Invalid component object");if(!p||typeof p=="string"&&(p.length<1||p.charAt(0)!="/"&&p.charAt(0)!="*")||typeof p=="object"&&!(p instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:C,keys:L}=lt(p);this.path=p,typeof y=="object"&&y._sveltesparouter===!0?(this.component=y.component,this.conditions=y.conditions||[],this.userData=y.userData,this.props=y.props||{}):(this.component=()=>Promise.resolve(y),this.conditions=[],this.props={}),this._pattern=C,this._keys=L}match(p){if(r){if(typeof r=="string")if(p.startsWith(r))p=p.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const M=p.match(r);if(M&&M[0])p=p.substr(M[0].length)||"/";else return null}}const y=this._pattern.exec(p);if(y===null)return null;if(this._keys===!1)return y;const C={};let L=0;for(;L<this._keys.length;){try{C[this._keys[L]]=decodeURIComponent(y[L+1]||"")||null}catch{C[this._keys[L]]=null}L++}return C}async checkConditions(p){for(let y=0;y<this.conditions.length;y++)if(!await this.conditions[y](p))return!1;return!0}}const u=[];s instanceof Map?s.forEach((g,p)=>{u.push(new i(p,g))}):Object.keys(s).forEach(g=>{u.push(new i(g,s[g]))});let o=null,c=null,f={};const h=tt();async function a(g,p){await nt(),h(g,p)}let m=null,k=null;l&&(k=g=>{g.state&&(g.state.__svelte_spa_router_scrollY||g.state.__svelte_spa_router_scrollX)?m=g.state:m=null},window.addEventListener("popstate",k),Ge(()=>{ct(m)}));let O=null,q=null;const v=ve.subscribe(async g=>{O=g;let p=0;for(;p<u.length;){const y=u[p].match(g.location);if(!y){p++;continue}const C={route:u[p].path,location:g.location,querystring:g.querystring,userData:u[p].userData,params:y&&typeof y=="object"&&Object.keys(y).length?y:null};if(!await u[p].checkConditions(C)){n(0,o=null),q=null,a("conditionsFailed",C);return}a("routeLoading",Object.assign({},C));const L=u[p].component;if(q!=L){L.loading?(n(0,o=L.loading),q=L,n(1,c=L.loadingParams),n(2,f={}),a("routeLoaded",Object.assign({},C,{component:o,name:o.name,params:c}))):(n(0,o=null),q=null);const M=await L();if(g!=O)return;n(0,o=M&&M.default||M),q=L}y&&typeof y=="object"&&Object.keys(y).length?n(1,c=y):n(1,c=null),n(2,f=u[p].props),a("routeLoaded",Object.assign({},C,{component:o,name:o.name,params:c})).then(()=>{qe.set(c)});return}n(0,o=null),q=null,qe.set(void 0)});et(()=>{v(),k&&window.removeEventListener("popstate",k)});function w(g){je.call(this,t,g)}function j(g){je.call(this,t,g)}return t.$$set=g=>{"routes"in g&&n(3,s=g.routes),"prefix"in g&&n(4,r=g.prefix),"restoreScrollState"in g&&n(5,l=g.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[o,c,f,s,r,l,w,j]}class at extends V{constructor(e){super(),Z(this,e,ft,ut,B,{routes:3,prefix:4,restoreScrollState:5})}}function ht(t){let e,n,s,r,l,i,u,o,c,f,h,a,m,k,O,q,v,w,j;return{c(){e=b("div"),n=b("label"),n.innerHTML='<span class="label-text">Key</span>',s=E(),r=b("input"),l=E(),i=b("label"),i.innerHTML='<span class="label-text">Long Link</span>',u=E(),o=b("input"),c=E(),f=b("label"),f.innerHTML='<span class="label-text">Short Link</span>',h=E(),a=b("input"),m=E(),k=b("button"),k.textContent="Update",O=E(),q=b("div"),v=I(t[3]),_(n,"class","label svelte-9vglym"),_(r,"type","text"),r.disabled=!0,_(r,"class","svelte-9vglym"),_(i,"class","label svelte-9vglym"),_(o,"type","text"),_(o,"class","svelte-9vglym"),_(f,"class","label svelte-9vglym"),_(a,"type","text"),_(a,"class","svelte-9vglym"),_(k,"class","btn"),_(e,"class","flex flex-col p-10 justify-center items-center gap-5 ")},m(g,p){x(g,e,p),d(e,n),d(e,s),d(e,r),H(r,t[2]),d(e,l),d(e,i),d(e,u),d(e,o),H(o,t[0]),d(e,c),d(e,f),d(e,h),d(e,a),H(a,t[1]),d(e,m),d(e,k),d(e,O),d(e,q),d(q,v),w||(j=[Q(r,"input",t[5]),Q(o,"input",t[6]),Q(a,"input",t[7]),Q(k,"click",t[4])],w=!0)},p(g,[p]){p&4&&r.value!==g[2]&&H(r,g[2]),p&1&&o.value!==g[0]&&H(o,g[0]),p&2&&a.value!==g[1]&&H(a,g[1]),p&8&&Y(v,g[3])},i:$,o:$,d(g){g&&S(e),w=!1,J(j)}}}function dt(t,e,n){let s;He(t,Qe,a=>n(8,s=a));let r,l,i,u="";we(async function(){const a=s.split("/").pop();await fetch(`https://shortlinks.deta.dev/key/${a}`).then(m=>m.json()).then(m=>{n(2,i=m.key),n(0,r=m.long),n(1,l=m.short)})});async function o(){n(3,u="Updating...");let a={};r&&(a.long=r),l&&(a.short=l),await fetch(`https://shortlinks.deta.dev/${i}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(m=>m.json()).then(m=>{n(3,u=m.msg)})}function c(){i=this.value,n(2,i)}function f(){r=this.value,n(0,r)}function h(){l=this.value,n(1,l)}return[r,l,i,u,o,c,f,h]}class pt extends V{constructor(e){super(),Z(this,e,dt,ht,B,{})}}function _t(t){let e,n;return{c(){e=b("div"),n=I(t[0]),_(e,"class","flex flex-col justify-center items-center flex-grow text-3xl")},m(s,r){x(s,e,r),d(e,n)},p(s,[r]){r&1&&Y(n,s[0])},i:$,o:$,d(s){s&&S(e)}}}function gt(t,e,n){let s;He(t,Qe,l=>n(1,s=l));let r="";return we(async function(){const l=s.split("/").pop();await fetch(`https://shortlinks.deta.dev/${l}`).then(i=>i.json()).then(i=>{i.url?(n(0,r=`Redirecting to the ${i.url}`),window.location.href=i.url):(n(0,r="Link Not Found"),setTimeout(()=>window.location.href="/",3e3))})}),[r]}class mt extends V{constructor(e){super(),Z(this,e,gt,_t,B,{})}}function Ce(t){let e,n;return{c(){e=b("p"),n=I(t[2])},m(s,r){x(s,e,r),d(e,n)},p(s,r){r&4&&Y(n,s[2])},d(s){s&&S(e)}}}function bt(t){let e,n,s,r,l,i,u,o,c,f,h,a,m,k,O,q,v=t[2]&&Ce(t);return{c(){e=b("form"),n=b("div"),s=b("label"),s.innerHTML='<span class="label-text">Short Url</span>',r=E(),l=b("input"),i=E(),u=b("div"),o=b("label"),o.innerHTML='<span class="label-text">Long Url</span>',c=E(),f=b("input"),h=E(),a=b("button"),a.textContent="Submit",m=E(),v&&v.c(),k=he(),_(s,"class","label"),_(s,"for",""),l.required=!0,_(l,"type","text"),_(l,"placeholder","Type here"),_(l,"min","5"),_(l,"max","15"),_(l,"class","input input-bordered w-full"),_(n,"class","w-full md:w-96"),_(o,"class","label"),_(o,"for",""),_(f,"min","5"),f.required=!0,_(f,"type","text"),_(f,"placeholder","Type here"),_(f,"class","input input-bordered w-full"),_(u,"class","w-full "),_(a,"class","md:self-end btn"),_(e,"class","form-control flex flex-col gap-5 w-full justify-center md:flex-row items-center p-5 md:px-20")},m(w,j){x(w,e,j),d(e,n),d(n,s),d(n,r),d(n,l),H(l,t[0]),d(e,i),d(e,u),d(u,o),d(u,c),d(u,f),H(f,t[1]),d(e,h),d(e,a),x(w,m,j),v&&v.m(w,j),x(w,k,j),O||(q=[Q(l,"input",t[5]),Q(f,"input",t[6]),Q(a,"click",We(t[3]))],O=!0)},p(w,[j]){j&1&&l.value!==w[0]&&H(l,w[0]),j&2&&f.value!==w[1]&&H(f,w[1]),w[2]?v?v.p(w,j):(v=Ce(w),v.c(),v.m(k.parentNode,k)):v&&(v.d(1),v=null)},i:$,o:$,d(w){w&&S(e),w&&S(m),v&&v.d(w),w&&S(k),O=!1,J(q)}}}function yt(t,e,n){let{short:s,long:r,getShortLinks:l}=e,i;function u(){if(!s||!r){n(2,i="Please enter a short and long link");return}if(!r.startsWith("http")){n(2,i="Please enter a valid long link");return}if(s.length>15||s.length<5){n(2,i="Short link should be less than 15 characters and more than 5 characters");return}fetch("https://shortlinks.deta.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({short:s,long:r})}).then(async f=>{if(f.ok==!0)l(),n(2,i=(await f.json()).msg);else{const h=(await f.json()).errors;n(2,i=h[0].msg)}})}function o(){s=this.value,n(0,s)}function c(){r=this.value,n(1,r)}return t.$$set=f=>{"short"in f&&n(0,s=f.short),"long"in f&&n(1,r=f.long),"getShortLinks"in f&&n(4,l=f.getShortLinks)},[s,r,i,u,l,o,c]}class kt extends V{constructor(e){super(),Z(this,e,yt,bt,B,{short:0,long:1,getShortLinks:4})}}function wt(t){let e,n='<path fill="currentColor" d="m9.4 16.5l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L16 9.9l-1.4-1.4l-2.6 2.6l-2.6-2.6L8 9.9l2.6 2.6L8 15.1ZM7 21q-.825 0-1.412-.587Q5 19.825 5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413Q17.825 21 17 21Z"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},t[0]],r={};for(let l=0;l<s.length;l+=1)r=z(r,s[l]);return{c(){e=De("svg"),ce(e,r)},m(l,i){x(l,e,i),e.innerHTML=n},p(l,[i]){ce(e,r=pe(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:$,o:$,d(l){l&&S(e)}}}function vt(t,e,n){return t.$$set=s=>{n(0,e=z(z({},e),ue(s)))},e=ue(e),[e]}class $t extends V{constructor(e){super(),Z(this,e,vt,wt,B,{})}}function Lt(t){let e,n='<path fill="currentColor" d="M6 22q-.825 0-1.412-.587Q4 20.825 4 20V4q0-.825.588-1.413Q5.175 2 6 2h8l6 6v3.1l-8 7.975V22Zm8 0v-2.125l5.15-5.175l2.15 2.1l-5.175 5.2Zm8.025-5.9L19.9 13.975l.7-.7q.3-.3.725-.3t.7.3l.7.725q.275.3.275.712q0 .413-.275.688ZM13 9h5l-5-5Z"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},t[0]],r={};for(let l=0;l<s.length;l+=1)r=z(r,s[l]);return{c(){e=De("svg"),ce(e,r)},m(l,i){x(l,e,i),e.innerHTML=n},p(l,[i]){ce(e,r=pe(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:$,o:$,d(l){l&&S(e)}}}function Et(t,e,n){return t.$$set=s=>{n(0,e=z(z({},e),ue(s)))},e=ue(e),[e]}class St extends V{constructor(e){super(),Z(this,e,Et,Lt,B,{})}}function Ne(t,e,n){const s=t.slice();return s[3]=e[n],s[5]=n,s}function jt(t){let e;return{c(){e=b("div"),e.textContent="There's No Short Links",_(e,"class","underline text-xl text-center")},m(n,s){x(n,e,s)},p:$,i:$,o:$,d(n){n&&S(e)}}}function xt(t){let e,n,s,r,l,i,u=t[0],o=[];for(let f=0;f<u.length;f+=1)o[f]=Me(Ne(t,u,f));const c=f=>N(o[f],1,1,()=>{o[f]=null});return{c(){e=b("div"),n=b("table"),s=b("thead"),s.innerHTML=`<tr><th>#</th> 
            <th>Short</th> 
            <th>Long</th> 
            <th>Clicks</th> 
            <th>Actions</th></tr>`,r=E(),l=b("tbody");for(let f=0;f<o.length;f+=1)o[f].c();_(n,"class","table w-full"),_(e,"class","md:p-5 overflow-x-auto")},m(f,h){x(f,e,h),d(e,n),d(n,s),d(n,r),d(n,l);for(let a=0;a<o.length;a+=1)o[a].m(l,null);i=!0},p(f,h){if(h&3){u=f[0];let a;for(a=0;a<u.length;a+=1){const m=Ne(f,u,a);o[a]?(o[a].p(m,h),T(o[a],1)):(o[a]=Me(m),o[a].c(),T(o[a],1),o[a].m(l,null))}for(se(),a=u.length;a<o.length;a+=1)c(a);re()}},i(f){if(!i){for(let h=0;h<u.length;h+=1)T(o[h]);i=!0}},o(f){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)N(o[h]);i=!1},d(f){f&&S(e),Ke(o,f)}}}function Me(t){let e,n,s,r,l,i,u=t[3].short+"",o,c,f,h,a,m=t[3].long+"",k,O,q,v,w=t[3].clicks+"",j,g,p,y,C,L,M,$e,G,W,Le,A,_e,Ee;L=new St({}),W=new $t({});function ze(){return t[2](t[3])}return{c(){e=b("tr"),n=b("th"),s=I(t[5]),r=E(),l=b("td"),i=b("a"),o=I(u),f=E(),h=b("td"),a=b("a"),k=I(m),q=E(),v=b("td"),j=I(w),g=E(),p=b("td"),y=b("a"),C=b("button"),U(L.$$.fragment),$e=E(),G=b("button"),U(W.$$.fragment),Le=E(),_(i,"href",c=`#/go/${t[3].short}`),_(a,"href",O=t[3].long),_(C,"class","icon svelte-1ef6qv4"),_(y,"href",M=`#/edit/${t[3].key}`),_(G,"class","icon svelte-1ef6qv4"),_(p,"class","flex gap-3"),_(e,"class","hover:active")},m(P,F){x(P,e,F),d(e,n),d(n,s),d(e,r),d(e,l),d(l,i),d(i,o),d(e,f),d(e,h),d(h,a),d(a,k),d(e,q),d(e,v),d(v,j),d(e,g),d(e,p),d(p,y),d(y,C),D(L,C,null),d(p,$e),d(p,G),D(W,G,null),d(e,Le),A=!0,_e||(Ee=Q(G,"click",ze),_e=!0)},p(P,F){t=P,(!A||F&1)&&u!==(u=t[3].short+"")&&Y(o,u),(!A||F&1&&c!==(c=`#/go/${t[3].short}`))&&_(i,"href",c),(!A||F&1)&&m!==(m=t[3].long+"")&&Y(k,m),(!A||F&1&&O!==(O=t[3].long))&&_(a,"href",O),(!A||F&1)&&w!==(w=t[3].clicks+"")&&Y(j,w),(!A||F&1&&M!==(M=`#/edit/${t[3].key}`))&&_(y,"href",M)},i(P){A||(T(L.$$.fragment,P),T(W.$$.fragment,P),A=!0)},o(P){N(L.$$.fragment,P),N(W.$$.fragment,P),A=!1},d(P){P&&S(e),R(L),R(W),_e=!1,Ee()}}}function Tt(t){let e,n,s,r;const l=[xt,jt],i=[];function u(o,c){return o[0].length>0?0:1}return n=u(t),s=i[n]=l[n](t),{c(){e=b("div"),s.c(),_(e,"class","w-full px-10")},m(o,c){x(o,e,c),i[n].m(e,null),r=!0},p(o,[c]){let f=n;n=u(o),n===f?i[n].p(o,c):(se(),N(i[f],1,1,()=>{i[f]=null}),re(),s=i[n],s?s.p(o,c):(s=i[n]=l[n](o),s.c()),T(s,1),s.m(e,null))},i(o){r||(T(s),r=!0)},o(o){N(s),r=!1},d(o){o&&S(e),i[n].d()}}}function Ot(t,e,n){let{shortlinks:s}=e;function r(i){console.log("deleting",i),fetch(`https://shortlinks.deta.dev/${i}`,{method:"DELETE"}).then(()=>{n(0,s=s.filter(u=>u.key!==i))})}const l=i=>r(i.key);return t.$$set=i=>{"shortlinks"in i&&n(0,s=i.shortlinks)},[s,r,l]}class qt extends V{constructor(e){super(),Z(this,e,Ot,Tt,B,{shortlinks:0})}}function Ct(t){let e,n,s,r,l,i,u;function o(h){t[4](h)}function c(h){t[5](h)}let f={getShortLinks:t[3]};return t[1]!==void 0&&(f.short=t[1]),t[2]!==void 0&&(f.long=t[2]),n=new kt({props:f}),ae.push(()=>Te(n,"short",o)),ae.push(()=>Te(n,"long",c)),i=new qt({props:{shortlinks:t[0]}}),{c(){e=b("div"),U(n.$$.fragment),l=E(),U(i.$$.fragment),_(e,"class","flex flex-col justify-center items-center gap-10")},m(h,a){x(h,e,a),D(n,e,null),d(e,l),D(i,e,null),u=!0},p(h,[a]){const m={};!s&&a&2&&(s=!0,m.short=h[1],xe(()=>s=!1)),!r&&a&4&&(r=!0,m.long=h[2],xe(()=>r=!1)),n.$set(m);const k={};a&1&&(k.shortlinks=h[0]),i.$set(k)},i(h){u||(T(n.$$.fragment,h),T(i.$$.fragment,h),u=!0)},o(h){N(n.$$.fragment,h),N(i.$$.fragment,h),u=!1},d(h){h&&S(e),R(n),R(i)}}}function Nt(t,e,n){let s=[],r="",l="";we(async function(){i()});async function i(){const c=await fetch("https://shortlinks.deta.dev/");n(0,s=(await c.json()).items)}function u(c){r=c,n(1,r)}function o(c){l=c,n(2,l)}return[s,r,l,i,u,o]}class Mt extends V{constructor(e){super(),Z(this,e,Nt,Ct,B,{})}}function Pt(t){let e,n,s,r,l,i;return l=new at({props:{routes:t[0]}}),{c(){e=b("body"),n=b("a"),n.innerHTML='<h1 class="text-3xl font-bold text-center py-10">Simple Link Shortener</h1>',s=E(),r=b("div"),U(l.$$.fragment),_(n,"href","/#")},m(u,o){x(u,e,o),d(e,n),d(e,s),d(e,r),D(l,r,null),i=!0},p:$,i(u){i||(T(l.$$.fragment,u),i=!0)},o(u){N(l.$$.fragment,u),i=!1},d(u){u&&S(e),R(l)}}}function At(t){return[{"/":Mt,"/go/:slug":mt,"/edit/:key":pt}]}class Ht extends V{constructor(e){super(),Z(this,e,At,Pt,B,{})}}new Ht({target:document.getElementById("app")});
